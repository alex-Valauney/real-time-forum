<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RTF</title>
    <link rel="stylesheet" href="static/style.css">
    <link rel="stylesheet" href="/static/index.css">
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.jade.min.css"> -->
</head>
<body>
    {{if not .LoggedIn}}

    <section id="register" class="register-container hidden">
      <form id="registerForm" method="POST" name="form" action="/register">
        <div class="register">
          <div class="register-item">
            <label>Username</label>
            <input type="text" name="nickname" placeholder="Ex : Xorlor54" required>
          </div>
          <div class="register-item">
            <label>First Name</label>
            <input type="text" name="first_name" placeholder="Ex : John" required>
          </div>
          <div class="register-item">
            <label>Last Name</label>
            <input type="text" name="last_name" placeholder="Ex : Doe" required>
          </div>
          <div class="register-item">
            <label>Age</label>
            <input type="number" name="age" min="13" max="150" placeholder="Minimum 13 yo" required>
          </div>
          <div class="register-item">
            <label>Gender</label>
            <div class="gender-options">
              <label>Homme
                <input type="radio" name="gender" value="1">
              </label>
              <label>Femme
                <input type="radio" name="gender" value="0">
              </label>
              <label>Autre
                <input type="radio" name="gender" value="2">
              </label>
            </div>
          </div>
          <div class="register-item">
            <label>Email</label>
            <input type="email" name="email" placeholder="Ex : Azerty@uipo.com" required>
          </div>
          <div class="register-item">
            <label>Password</label>
            <input type="password" name="password" placeholder="At least 10 characters; use numbers, caps and special chars" required>
          </div>
          <button type="submit">Register</button>
          <p>Already registered? Just <a id="linkLogin" href="#">Log In</a></p>
        </div>
      </form>
    </section>
    
    <section id="login" class="register-container hidden">
      <form id="loginForm" method="POST" name="form" action="/login">
          <div class="register">
            <div class="register-item">
              <label>Username or Email</label>
              <input type="text" name="name" placeholder="Ex : Xorlor54 or Azerty@uipo.com" required>
            </div>
            <div class="register-item">
              <label>Password</label>
              <input type="password" name="password" placeholder="Enter your password" required>
            </div>
            <div class="register-item">
              <label>Remember me</label>
              <input type="checkbox" name="remember" value="remember">
            </div>
            <button type="submit">Log In</button>
            <p>Not yet registered? <a id="linkRegister" href="#">Register</a></p>
          </div>
      </form>
    </section>
        
    {{else}}
    
    <header>
      <h1>Mon Header</h1>
    </header>
    
        
    <nav>
      <button id="homeButton" class="nav-btn">Home</button>
      <button id="newPostButton" class="nav-btn">New Post</button>
      <button id="logoutButton" class="nav-btn">Log Out</button>
      <button id="chatButton" class="nav-btn chat-btn">Chat</button>
    </nav>

    <main>
      <aside class="sidebar">
          <h2>Liste des membres</h2>
          <ul>
              <li>Marie Curie</li>
              <li>Dmitri Mendele√Øev</li>
              <li>Linus Pauling</li>
              <li>Rosalind Franklin</li>
              <li>Antoine Lavoisier</li>
          </ul>
      </aside>

      <section id="chat" class="chat hidden">
        <input type="text" id="testWS">
        <button id="testbutWS">test WebSocket</button>
        <div id="output">test output</div>
      </section>

      <section id="index" class="index hidden">
        <table>
          <thead>
            <tr id="tableHeader">
              <th class="title-column">Topics</th>
              <th class="author-column">Author</th>
              <th class="stats-column">Stats</th>
            </tr>
          </thead>
          <tbody id="indexTable"></tbody>
        </table>
      </section>
      

      <section id="newPost" class="newPost-container hidden">
        <form id="newPostForm" method="POST" name="form" action="/newPost">
          <div class="newPost">
            <div class="newPost-item">
              <label>Title</label>
              <input type="text" name="title" minlength="4" required>
              <textarea name="content" placeholder="Write your post here..." required></textarea>
            </div>
            <div class="newPost-item">
              <label>Categories</label>
              <div class="categories-options">
                <label>
                  <input type="checkbox" name="cat1" value="1">
                </label>
                <label>
                  <input type="checkbox" name="cat2" value="2">
                </label>
                <label>
                  <input type="checkbox" name="cat3" value="3">
                </label>
                <label>
                  <input type="checkbox" name="cat4" value="4">
                </label>
              </div>
            </div>
            <button type="submit">Post it</button>
          </div>
        </form>
      </section>

      <section id="post" class="post hidden">
        <!--  DJIMI LE POST C'EST UN ARTICLE -->
          <div class="post">
              <p>Post</p>
          </div>
        <!-- ------------------------------- -->
          <form id="newComForm" method="POST" name="form" action="/newCom">
            <div class="newCom">
              <div class="newCom-item">
                <textarea name="content" placeholder="Write your post here..." required></textarea>
              </div>
                <button type="submit">Comment it</button>
            </div>
          </form>
          <div id="commentList" class="commentList">
              <!--  DJIMI LES COM C'EST UN ARTICLE -->
              <div class="comment">
                  <p>Comment</p>
              </div>
              <!-- ------------------------------- -->
          </div>
      </section>
    </main>  

    {{end}}

    
    <script type="module">
      import { init } from '/script/main.js'
      init()
    </script>
</body>
</html>